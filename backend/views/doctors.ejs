<%- include('partials/header') %>

<main class="container">
  <h1>Our Medical Team</h1>
  <div class="stats-grid">
    <% doctors.forEach(doc => { %>
    <div class="card doctor-card">
      <!-- Doctor Name -->
      <h3 class="doctor-name">
        Dr. <%= doc.first_name %> <%= doc.last_name %>
      </h3>

      <!-- Specialization -->
      <p class="doctor-specialization"><%= doc.specialization %></p>

      <!-- Patient Count (CLICKABLE) -->
      <% if (doc.total_patients && doc.total_patients > 0) { %>
      <a
        href="/doctors/<%= doc.doctor_id %>/patients"
        class="doctor-patient-count"
      >
        ðŸ‘¥ <%= doc.total_patients %> Patients
      </a>
      <% } else { %>
      <span class="doctor-patient-count empty"> No patients yet </span>
      <% } %>

      <!-- Doctor ID -->
      <div class="doctor-id">ID: <%= doc.doctor_id %></div>
    </div>

    <% }) %>
  </div>
</main>
<%- include('partials/footer') %>
